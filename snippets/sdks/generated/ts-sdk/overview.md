---
  title: 'Dune Typescript SDK'
---

# Classes
## ColumnType 


### Boolean


### Double


### Integer


### Timestamp


### Varchar



## ContentType 
All supported API content types

### Csv


### Json


### NDJson



## ExecutionState 
Various possible states of a query exeuction.

### CANCELLED


### COMPLETED


### EXECUTING


### EXPIRED


### FAILED


### PENDING



## ParameterType 
All supported Dune Query Parameter types.

### DATE


### ENUM


### NUMBER


### TEXT



## QueryEngine 
Choice of execution engine when executing query via API [default &#x3D; medium]

### Large


### Medium



## DuneClient 
The primary interface for devs to utilize
full functionality of the Dune API.

### constructor
Constructor for the DuneClient.

<ParamField path="apiKey" type="">

</ParamField>
### exec


### query


### table


### _runInner


<ParamField path="queryID" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
<ParamField path="pingFrequency" type="">

</ParamField>
### downloadCSV
Get the lastest execution results in CSV format and saves to disk.

<ParamField path="args" type="">

</ParamField>
<ParamField path="outFile" type="text">
location to save CSV.
</ParamField>
### getLatestResult
Goes a bit beyond the internal call which returns that last execution results.
Here contains additional logic to refresh the results if they are too old.

<ParamField path="args" type="">

</ParamField>
### refresh


<ParamField path="queryID" type="">

</ParamField>
<ParamField path="parameters" type="">

</ParamField>
<ParamField path="pingFrequency" type="">

</ParamField>
### runQuery
Runs an existing query by ID via execute, await, return results.

<ParamField path="args" type="">

</ParamField>
### runQueryCSV
Runs an existing query by ID via execute, await, return Result CSV.

<ParamField path="args" type="">

</ParamField>
### runSql
Allows user to provide execute raw_sql via the CRUD interface
- create, run, get results with optional archive/delete.
- Query is by default made private and archived after execution.
Requires Plus subscription!

<ParamField path="args" type="">

</ParamField>

## DuneError 
Basic Error structure meant to represent Dune API errors.

### constructor


<ParamField path="msg" type="">

</ParamField>
### message


### name


### stack


### prepareStackTrace


### stackTraceLimit


### captureStackTrace
Create .stack property on a target object

<ParamField path="targetObject" type="">

</ParamField>
<ParamField path="constructorOpt" type="">

</ParamField>

## ExecutionAPI 
This class implements all the routes defined in the Dune API Docs:
https://docs.dune.com/api-reference/executions/execution-object

### constructor


<ParamField path="apiKey" type="">

</ParamField>
<ParamField path="apiVersion" type="">

</ParamField>
### _delete


<ParamField path="route" type="">

</ParamField>
### _fetchEntireResult
Private method used for retrieving entire result via pagination.

<ParamField path="results" type="">

</ParamField>
### _fetchEntireResultCSV
Private method used for retrieving entire result CSV via pagination.

<ParamField path="results" type="">

</ParamField>
### _get


<ParamField path="route" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
### _getByUrl


<ParamField path="url" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
### _handleResponse


<ParamField path="responsePromise" type="">

</ParamField>
### _patch


<ParamField path="route" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
### _request


<ParamField path="method" type="">

</ParamField>
<ParamField path="url" type="">

</ParamField>
<ParamField path="payload" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
<ParamField path="content_type" type="">

</ParamField>
### buildCSVResponse
Private method used for building CSV responses.

<ParamField path="response" type="">

</ParamField>
### cancelExecution
Cancels an execution according to:
https://docs.dune.com/api-reference/executions/endpoint/cancel-execution

<ParamField path="executionId" type="text">
string representig ID of query execution.
</ParamField>
### execute


<ParamField path="queryID" type="">

</ParamField>
<ParamField path="parameters" type="">

</ParamField>
### executeQuery
Executes query by ID according to:
https://docs.dune.com/api-reference/executions/endpoint/execute-query

<ParamField path="queryID" type="text">
id of query to be executed.
</ParamField>
<ParamField path="params" type="text">
including query parameters and execution performance.
</ParamField>
### getExecutionResults
Retrieve results of a query execution by executionID:
https://docs.dune.com/api-reference/executions/endpoint/get-execution-result

<ParamField path="executionId" type="text">
string representig ID of query execution
</ParamField>
<ParamField path="params" type="text">
including limit, offset
</ParamField>
### getExecutionStatus
Retrieve the status of a query execution by executionID:
https://docs.dune.com/api-reference/executions/endpoint/get-execution-status

<ParamField path="executionId" type="text">
string representig ID of query execution.
</ParamField>
### getLastExecutionResults
Retrieves results from query's last execution

<ParamField path="queryId" type="">

</ParamField>
<ParamField path="params" type="text">
parameters for retrieval.
</ParamField>
<ParamField path="expiryAgeHours" type="text">
What is considered to be an expired result set.
</ParamField>
### getLastResultCSV
Retrieves results from query's last execution (in CSV format)

<ParamField path="queryId" type="">

</ParamField>
<ParamField path="params" type="text">
parameters for retrieval.
</ParamField>
### getResult


<ParamField path="jobID" type="">

</ParamField>
### getResultCSV
Retrieve results of a query execution (in CSV format) by executionID:
https://docs.dune.com/api-reference/executions/endpoint/get-execution-result-csv

<ParamField path="executionId" type="text">
string representig ID of query execution.
</ParamField>
<ParamField path="params" type="text">
including limit, offset
</ParamField>
### getStatus


<ParamField path="jobID" type="">

</ParamField>
### post
Allows a post to any route supported by DuneAPI.
Meant to be low level call only used by available functions,
but accessible if new routes become available before the SDK catches up.

<ParamField path="route" type="text">
request path of the http post
</ParamField>
<ParamField path="params" type="text">
payload sent with request (should be aligned with what the interface supports)
</ParamField>
<ParamField path="content_type" type="">

</ParamField>
### url


<ParamField path="route" type="">

</ParamField>

## QueryAPI 
Query Management Interface (CRUD operations)
https://docs.dune.com/api-reference/queries/endpoint/query-object

### constructor


<ParamField path="apiKey" type="">

</ParamField>
<ParamField path="apiVersion" type="">

</ParamField>
### _delete


<ParamField path="route" type="">

</ParamField>
### _get


<ParamField path="route" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
### _getByUrl


<ParamField path="url" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
### _handleResponse


<ParamField path="responsePromise" type="">

</ParamField>
### _patch


<ParamField path="route" type="">

</ParamField>
<ParamField path="params" type="">

</ParamField>
### _request


<ParamField path="method" type="">

</ParamField>
<ParamField path="url" type="">

</ParamField>
<ParamField path="payload" type="">

</ParamField>
<ParamField path="raw" type="">

</ParamField>
<ParamField path="content_type" type="">

</ParamField>
### archiveQuery
Archive a query. Only the API key generated under the context of
the owner of that query will work. This does not delete the query,
but will make it uneditable/unexecutable:
https://docs.dune.com/api-reference/queries/endpoint/archive

<ParamField path="queryId" type="text">
ID of the query to be archived.
</ParamField>
### createQuery
Create a query. The owner of the query will be under the context of the API key.
https://docs.dune.com/api-reference/queries/endpoint/create

<ParamField path="params" type="text">
of query creation.
</ParamField>
### makePrivate
Make a query private. Only the API key generated under the context of
the owner of that query will work.
https://docs.dune.com/api-reference/queries/endpoint/private

<ParamField path="queryId" type="text">
ID of the query to be made private.
</ParamField>
### makePublic
Make a private query public.
https://docs.dune.com/api-reference/queries/endpoint/unprivate

<ParamField path="queryId" type="text">
ID of the query to be made public.
</ParamField>
### post
Allows a post to any route supported by DuneAPI.
Meant to be low level call only used by available functions,
but accessible if new routes become available before the SDK catches up.

<ParamField path="route" type="text">
request path of the http post
</ParamField>
<ParamField path="params" type="text">
payload sent with request (should be aligned with what the interface supports)
</ParamField>
<ParamField path="content_type" type="">

</ParamField>
### readQuery
Read the sql text, parameters, name, tags, and state of a query.
For private queries, only the API key generated under the context
of the owner of that query will work:
https://dune.com/docs/api/api-referenhttps://docs.dune.com/api-reference/queries/endpoint/read

<ParamField path="queryId" type="text">
the ID of the query to be read.
</ParamField>
### unarchiveQuery
Unarchive a query. Only the API key generated under the context of
the owner of that query will work.
https://docs.dune.com/api-reference/queries/endpoint/unarchive

<ParamField path="queryId" type="text">
ID of the query to be unarchived.
</ParamField>
### updateQuery
Update the sql text, parameters, name, tags, and state of a query.
Only the API key generated under the context of the owner of that
query will work.
https://docs.dune.com/api-reference/queries/endpoint/update

<ParamField path="queryId" type="text">
the ID of the query to be updated.
</ParamField>
<ParamField path="params" type="">

</ParamField>
### url


<ParamField path="route" type="">

</ParamField>

## QueryParameter 
Class representing Dune Query Parameters with convience constructor methods for each type.

### constructor


<ParamField path="type" type="">

</ParamField>
<ParamField path="name" type="">

</ParamField>
<ParamField path="value" type="">

</ParamField>
### name


### type


### value


### date
Date type parameter constructor

<ParamField path="name" type="text">
of parameter
</ParamField>
<ParamField path="value" type="text">
default value
</ParamField>
### enum
Enum/List type parameter constructor

<ParamField path="name" type="text">
of parameter
</ParamField>
<ParamField path="value" type="text">
default value
</ParamField>
### number
Number type parameter constructor

<ParamField path="name" type="text">
of parameter
</ParamField>
<ParamField path="value" type="text">
default value
</ParamField>
### text
Text type parameter constructor

<ParamField path="name" type="text">
of parameter
</ParamField>
<ParamField path="value" type="text">
default value
</ParamField>
### unravel
Internal method used to convert query parameters into JSON formated request payload.

<ParamField path="params" type="text">
[Optional]: list of query parameters to be &quot;unravelled&quot;.
</ParamField>

## GetStatusResponse 



## RequestPayload 
Payload sent upon requests to Dune API.


## SuccessResponse 



## UploadCSVArgs 
Payload sent when uploading a CSV file to Dune.


## concatResultCSV 



## concatResultResponse 



## payloadJSON 



## payloadSearchParams 



## validateAndBuildGetResultParams 




# Objects
## BaseCRUDParams


<ParamField path="description" type="text">
Description of the query.
</ParamField>
<ParamField path="name" type="text">
Name of the query.
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="query_sql" type="text">
The SQL query text.
</ParamField>

## CreateQueryParams
Payload sent with query creation requests.

<ParamField path="description" type="text">
Description of the query.
</ParamField>
<ParamField path="is_private" type="text">
Indicates if the query is private.
</ParamField>
<ParamField path="name" type="text">
Name of the query.
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="query_sql" type="text">
The SQL query text.
</ParamField>

## CreateQueryResponse
Response resturned from query creation request.

<ParamField path="query_id" type="">

</ParamField>

## CreateTableArgs


<ParamField path="description" type="text">
A description of the table.
</ParamField>
<ParamField path="is_private" type="text">
If true, the table will be private.
If private it is only visible to the team or user that your API key is associated with.
</ParamField>
<ParamField path="namespace" type="text">
The namespace of the table to create.
Must be the name of your associated API key, i.e. either 
</ParamField>
<ParamField path="schema" type="text">
An ordered list of columns that define the table schema. Cannot be empty.
</ParamField>
<ParamField path="table_name" type="text">
The name of the table to create.
Must begin with a lowercase letter and contain only lowercase letters,
digits, and underscores.
</ParamField>

## CreateTableResult


<ParamField path="example_query" type="text">
An example query to use on Dune querying your new table.
</ParamField>
<ParamField path="full_name" type="text">
The full name of the created table, as it should be referred to in a query.
</ParamField>
<ParamField path="namespace" type="text">
The namespace of the created table.
</ParamField>
<ParamField path="table_name" type="text">
The name of the created table.
</ParamField>

## DeleteTableArgs


<ParamField path="namespace" type="text">
The namespace of the table to delete (e.g. my_user).
</ParamField>
<ParamField path="table_name" type="text">
The name of the table to delete (e.g. interest_rates).
</ParamField>

## DeleteTableResult


<ParamField path="message" type="text">
The confirmation message of the deleted table
</ParamField>

## DuneQuery
Enriched structure representing all data constituting a DuneQuery.
Modeling the CRUD operation response for &#x27;get_query&#x27;
https://docs.dune.com/api-reference/queries/endpoint/read#example-return

<ParamField path="description" type="text">
Description of the query.
</ParamField>
<ParamField path="is_archived" type="text">
Indicates if the query is archived.
Note: This is as close as a user can get to deleting a query.
</ParamField>
<ParamField path="is_private" type="text">
Indicates if the query is private.
</ParamField>
<ParamField path="is_unsaved" type="text">
Indicates if the query is unsaved.
</ParamField>
<ParamField path="name" type="text">
Name of the query.
</ParamField>
<ParamField path="owner" type="text">
Dune user who owns the query.
</ParamField>
<ParamField path="parameters" type="text">
Parameters with their names and default values.
</ParamField>
<ParamField path="query_engine" type="text">
The query engine used to execute the query.
</ParamField>
<ParamField path="query_id" type="text">
Unique identifier of the query.
</ParamField>
<ParamField path="query_sql" type="text">
Raw SQL of the query.
</ParamField>
<ParamField path="tags" type="text">
Tags associated with the query.
</ParamField>
<ParamField path="version" type="text">
Version of the query.
</ParamField>

## ExecuteQueryParams


<ParamField path="performance" type="text">
The performance engine tier the execution will be run on.
Can be either medium or large.
Medium consumes 10 credits, and large consumes 20 credits, per run.
Default is medium.
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>

## ExecutionParams
Optional parameters for query exection.

<ParamField path="performance" type="">

</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>

## ExecutionResponse
Response resturned from query execution request.

<ParamField path="execution_id" type="">

</ParamField>
<ParamField path="state" type="">

</ParamField>

## ExecutionResponseCSV


<ParamField path="data" type="">

</ParamField>
<ParamField path="next_offset" type="">

</ParamField>
<ParamField path="next_uri" type="">

</ParamField>

## ExecutionResult
Result of a Query Execution.

<ParamField path="metadata" type="text">
Metadata about the execution of the query, including details like column names,
row counts, and execution times.
</ParamField>
<ParamField path="rows" type="text">
A list of rows. A row is dictionary of key-value pairs returned by the query,
each pair corresponding to a column
</ParamField>

## GetResultParams


<ParamField path="columns" type="text">
Specified columns to be returned. If omitted, all columns are included.
Tip: use this to limit the result to specific columns, reducing datapoints cost of the call.
</ParamField>
<ParamField path="filters" type="text">
Expression to filter out rows from the results to return.
This expression is similar to a SQL WHERE clause.
More details about it in the [Filtering](https://docs.dune.com/api-reference/executions/filtering) section of the doc.
This parameter is incompatible with 
</ParamField>
<ParamField path="limit" type="text">
Limit number of rows to return.
This together with &#x27;offset&#x27; allows easy pagination through results in an incremental and efficient way.
This parameter is incompatible with sampling (
</ParamField>
<ParamField path="offset" type="text">
Offset row number to start (inclusive, first row means offset&#x3D;0) returning results from.
This together with &#x27;limit&#x27; allows easy pagination through results.
This parameter is incompatible with sampling (
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="sample_count" type="text">
Number of rows to return from the result by sampling the data.
This is useful when you want to get a uniform sample instead of the entire result.
If the result has less than the sample count, the entire result is returned.
Note that this will return a randomized sample, so not every call will return the same result.
This parameter is incompatible with 
</ParamField>
<ParamField path="sort_by" type="text">
Expression to define the order in which the results should be returned.
This expression is similar to a SQL ORDER BY clause.
More details about it in the [Sorting](https://docs.dune.com/api-reference/executions/sorting) section of the doc.
</ParamField>

## InsertTableArgs


<ParamField path="content_type" type="">

</ParamField>
<ParamField path="data" type="text">
The body is of type file.
</ParamField>
<ParamField path="namespace" type="text">
The namespace of the table to insert into (e.g. 
</ParamField>
<ParamField path="table_name" type="text">
The name of the table to insert into (e.g. 
</ParamField>

## InsertTableResult


<ParamField path="rows_written" type="">

</ParamField>

## LatestResultArgs


<ParamField path="opts" type="">

</ParamField>
<ParamField path="parameters" type="">

</ParamField>
<ParamField path="queryId" type="text">
ID of the query.
</ParamField>

## LatestResultsResponse


<ParamField path="isExpired" type="">

</ParamField>
<ParamField path="results" type="">

</ParamField>

## Options


<ParamField path="batchSize" type="text">
The page size when retriving results.
</ParamField>
<ParamField path="maxAgeHours" type="text">
Determines result expiry date.
</ParamField>
<ParamField path="pingFrequency" type="text">
How frequently should we check execution status
</ParamField>

## ResultMetadata
Metadata contained within a quer 

<ParamField path="column_names" type="text">
Names of the columns contained in the query results.
</ParamField>
<ParamField path="datapoint_count" type="text">
Total number of data points in result.
Used as part of the API credits computation.
</ParamField>
<ParamField path="execution_time_millis" type="text">
Time in milliseconds that the query took to execute.
</ParamField>
<ParamField path="pending_time_millis" type="text">
How long they query was pending (in the queue) before execution began.
</ParamField>
<ParamField path="result_set_bytes" type="text">
Number of bytes in the result set for the current page of results.
</ParamField>
<ParamField path="row_count" type="text">
Number of rows in the result set for the current page of results.
</ParamField>
<ParamField path="total_result_set_bytes" type="text">
Total number of bytes in the result set. This doesn&#x27;t include the json representation overhead.
</ParamField>
<ParamField path="total_row_count" type="text">
Total number of rows in the result set.
</ParamField>

## ResultsResponse
Response of reqeust for results of a query execution.

<ParamField path="cancelled_at" type="text">
Timestamp of when the query execution was cancelled, if applicable.
</ParamField>
<ParamField path="execution_ended_at" type="text">
Timestamp of when the query execution ended.
</ParamField>
<ParamField path="execution_id" type="text">
Unique identifier for the execution of the query.
</ParamField>
<ParamField path="execution_started_at" type="text">
Timestamp of when the query execution started.
</ParamField>
<ParamField path="expires_at" type="text">
Timestamp of when the query result expires.
</ParamField>
<ParamField path="is_execution_finished" type="text">
Whether the state of the query execution is terminal. This can be used for polling purposes.
</ParamField>
<ParamField path="next_offset" type="text">
Offset that can be used to retrieve the next page of results.
</ParamField>
<ParamField path="next_uri" type="text">
URI that can be used to fetch the next page of results.
</ParamField>
<ParamField path="query_id" type="text">
Unique identifier of the query.
</ParamField>
<ParamField path="result" type="text">
only present when state is COMPLETE
</ParamField>
<ParamField path="state" type="text">
The state of the query execution.
</ParamField>
<ParamField path="submitted_at" type="">

</ParamField>

## RunQueryArgs
Optional parameters for query exection.

<ParamField path="columns" type="text">
Specified columns to be returned. If omitted, all columns are included.
Tip: use this to limit the result to specific columns, reducing datapoints cost of the call.
</ParamField>
<ParamField path="filters" type="text">
Expression to filter out rows from the results to return.
This expression is similar to a SQL WHERE clause.
More details about it in the [Filtering](https://docs.dune.com/api-reference/executions/filtering) section of the doc.
This parameter is incompatible with 
</ParamField>
<ParamField path="limit" type="text">
Limit number of rows to return.
This together with &#x27;offset&#x27; allows easy pagination through results in an incremental and efficient way.
This parameter is incompatible with sampling (
</ParamField>
<ParamField path="offset" type="text">
Offset row number to start (inclusive, first row means offset&#x3D;0) returning results from.
This together with &#x27;limit&#x27; allows easy pagination through results.
This parameter is incompatible with sampling (
</ParamField>
<ParamField path="opts" type="">

</ParamField>
<ParamField path="performance" type="">

</ParamField>
<ParamField path="queryId" type="text">
ID of the query.
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="sample_count" type="text">
Number of rows to return from the result by sampling the data.
This is useful when you want to get a uniform sample instead of the entire result.
If the result has less than the sample count, the entire result is returned.
Note that this will return a randomized sample, so not every call will return the same result.
This parameter is incompatible with 
</ParamField>
<ParamField path="sort_by" type="text">
Expression to define the order in which the results should be returned.
This expression is similar to a SQL ORDER BY clause.
More details about it in the [Sorting](https://docs.dune.com/api-reference/executions/sorting) section of the doc.
</ParamField>

## RunSqlArgs
Optional parameters for query exection.

<ParamField path="archiveAfter" type="text">
Whether the created query should be archived immediately after execution or not (default &#x3D; true).
</ParamField>
<ParamField path="isPrivate" type="text">
Whether the created query should be private or not (default &#x3D; true).
</ParamField>
<ParamField path="name" type="text">
Name of created query.
</ParamField>
<ParamField path="opts" type="text">
Additional options execution options.
</ParamField>
<ParamField path="performance" type="">

</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="query_sql" type="text">
raw sql of query to run (Trino/DuneSQL syntax)
</ParamField>

## SchemaRecord


<ParamField path="name" type="text">
The column name. Can contain letters, numbers, and underscores,
but must begin with a letter or an underscore.
</ParamField>
<ParamField path="type" type="text">
The column type.
</ParamField>

## TimeData
Various query times related to an query status request.

<ParamField path="cancelled_at" type="text">
Timestamp of when the query execution was cancelled, if applicable.
</ParamField>
<ParamField path="execution_ended_at" type="text">
Timestamp of when the query execution ended.
</ParamField>
<ParamField path="execution_started_at" type="text">
Timestamp of when the query execution started.
</ParamField>
<ParamField path="expires_at" type="text">
Timestamp of when the query result expires.
</ParamField>
<ParamField path="submitted_at" type="">

</ParamField>

## UpdateQueryParams
Payload sent with query update requests.

<ParamField path="description" type="text">
Description of the query.
</ParamField>
<ParamField path="name" type="text">
Name of the query.
</ParamField>
<ParamField path="query_parameters" type="">

</ParamField>
<ParamField path="query_sql" type="text">
The SQL query text.
</ParamField>
<ParamField path="tags" type="text">
Tags to be added (overrides existing tags).
</ParamField>


